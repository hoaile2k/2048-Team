{"version":3,"sources":["../../../../assets/Script/assets/Script/MoveBlock.js"],"names":["Emitter","require","emitName","cc","Class","extends","Component","properties","_width","_isMoveRight","onLoad","evtMoveUp","moveUpCombined","bind","evtMoveDown","moveDownCombined","evtMoveLeft","moveLeftCombined","evtMoveRight","moveRightCombined","instance","registerEvent","moveUp","moveDown","moveLeft","moveRight","start","listBlock","arrayBlock","index","totalOne","totalTwo","totalThree","totalFour","column","parseInt","filterColumn","filter","num","missing","length","zeros","Array","fill","newColumn","concat","getComponent","labelPrefab","string","row","filterRow","newRow","combineRowLeft","combinedTotal","combineRowRight","combineColumnUp","combineColumnDown","emit","generate"],"mappings":"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","file":"MoveBlock.js","sourceRoot":"../../../../assets/Script","sourcesContent":["const Emitter = require(\"mEmitter\")\nconst emitName = require(\"emitName\")\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        _width: 4,\n        _isMoveRight: false,\n\n    },\n\n    onLoad() {\n        this.evtMoveUp = this.moveUpCombined.bind(this)\n        this.evtMoveDown = this.moveDownCombined.bind(this)\n        this.evtMoveLeft = this.moveLeftCombined.bind(this)\n        this.evtMoveRight = this.moveRightCombined.bind(this)\n\n        Emitter.instance.registerEvent(emitName.moveUp, this.evtMoveUp)\n        Emitter.instance.registerEvent(emitName.moveDown, this.evtMoveDown)\n        Emitter.instance.registerEvent(emitName.moveLeft, this.evtMoveLeft)\n        Emitter.instance.registerEvent(emitName.moveRight, this.evtMoveRight)\n    },\n\n    start() {\n\n    },\n\n    moveUp(listBlock,arrayBlock) {\n        for(let index = 0; index < 4; index++){\n            let totalOne = arrayBlock[index]\n            let totalTwo = arrayBlock[index + this._width]\n            let totalThree = arrayBlock[index + (this._width * 2)]\n            let totalFour = arrayBlock[index + (this._width * 3)]\n            let column = [parseInt(totalOne), parseInt(totalTwo), parseInt(totalThree), parseInt(totalFour)]\n\n            let filterColumn = column.filter(num => num)\n            let missing = this._width - filterColumn.length   \n            let zeros = Array(missing).fill(0)\n            let newColumn = filterColumn.concat(zeros)\n\n            listBlock[index].getComponent(\"block\").labelPrefab.string = newColumn[0]\n            listBlock[index + this._width].getComponent(\"block\").labelPrefab.string = newColumn[1]\n            listBlock[index + (this._width * 2)].getComponent(\"block\").labelPrefab.string = newColumn[2]\n            listBlock[index + (this._width * 3)].getComponent(\"block\").labelPrefab.string = newColumn[3]\n\n            arrayBlock[index] = newColumn[0]\n            arrayBlock[index + this._width] = newColumn[1]\n            arrayBlock[index + (this._width * 2)] = newColumn[2]\n            arrayBlock[index + (this._width * 3)] = newColumn[3]\n    } \n    },\n    moveDown(listBlock,arrayBlock) {\n        for(let index = 0; index < 4; index++){\n                let totalOne = arrayBlock[index]\n                let totalTwo = arrayBlock[index + this._width]\n                let totalThree = arrayBlock[index + (this._width * 2)]\n                let totalFour = arrayBlock[index + (this._width * 3)]\n                let column = [parseInt(totalOne), parseInt(totalTwo), parseInt(totalThree), parseInt(totalFour)]\n\n                let filterColumn = column.filter(num => num)\n                let missing = this._width - filterColumn.length   \n                let zeros = Array(missing).fill(0)\n                let newColumn = zeros.concat(filterColumn)\n\n                listBlock[index].getComponent(\"block\").labelPrefab.string = newColumn[0]\n                listBlock[index + this._width].getComponent(\"block\").labelPrefab.string = newColumn[1]\n                listBlock[index + (this._width * 2)].getComponent(\"block\").labelPrefab.string = newColumn[2]\n                listBlock[index + (this._width * 3)].getComponent(\"block\").labelPrefab.string = newColumn[3]\n\n                arrayBlock[index] = newColumn[0]\n                arrayBlock[index + this._width] = newColumn[1]\n                arrayBlock[index + (this._width * 2)] = newColumn[2]\n                arrayBlock[index + (this._width * 3)] = newColumn[3]\n        }   \n    },\n    moveLeft(listBlock,arrayBlock) {\n        for(let index = 0; index < 16; index++){\n            if(index % 4===0){\n                let totalOne = arrayBlock[index]\n                let totalTwo = arrayBlock[index+1]\n                let totalThree = arrayBlock[index+2]\n                let totalFour = arrayBlock[index+3]\n                let row = [parseInt(totalOne), parseInt(totalTwo), parseInt(totalThree), parseInt(totalFour)]\n                let filterRow = row.filter(num => num)\n                let missing = this._width - filterRow.length   \n                let zeros = Array(missing).fill(0)\n                let newRow = filterRow.concat(zeros)\n\n                listBlock[index].getComponent(\"block\").labelPrefab.string = newRow[0]\n                listBlock[index+1].getComponent(\"block\").labelPrefab.string = newRow[1]\n                listBlock[index+2].getComponent(\"block\").labelPrefab.string = newRow[2]\n                listBlock[index+3].getComponent(\"block\").labelPrefab.string = newRow[3]\n\n                arrayBlock[index]= newRow[0]\n                arrayBlock[index+1]= newRow[1]\n                arrayBlock[index+2]= newRow[2]\n                arrayBlock[index+3]= newRow[3]\n            }\n        }\n    },\n    moveRight(listBlock,arrayBlock) {\n        this._isMoveRight = true\n        for(let index = 0; index < 16; index++){\n            if(index % 4===0){\n                let totalOne = arrayBlock[index]\n                let totalTwo = arrayBlock[index+1]\n                let totalThree = arrayBlock[index+2]\n                let totalFour = arrayBlock[index+3]\n                let row = [parseInt(totalOne), parseInt(totalTwo), parseInt(totalThree), parseInt(totalFour)]\n                let filterRow = row.filter(num => num)\n                let missing = 4 - filterRow.length   \n                let zeros = Array(missing).fill(0)\n                let newRow = zeros.concat(filterRow)\n                \n                listBlock[index].getComponent(\"block\").labelPrefab.string = newRow[0]\n                listBlock[index+1].getComponent(\"block\").labelPrefab.string = newRow[1]\n                listBlock[index+2].getComponent(\"block\").labelPrefab.string = newRow[2]\n                listBlock[index+3].getComponent(\"block\").labelPrefab.string = newRow[3]\n\n                arrayBlock[index] = newRow[0]\n                arrayBlock[index+1]= newRow[1]\n                arrayBlock[index+2]= newRow[2]\n                arrayBlock[index+3]= newRow[3]\n            }\n        }\n    },\n\n    combineRowLeft(listBlock, arrayBlock){\n        for(let index = 0; index <= 15; index++){\n            if(arrayBlock[index] === arrayBlock[index+1]){\n                let combinedTotal = arrayBlock[index] + arrayBlock[index + 1]\n                listBlock[index].getComponent(\"block\").labelPrefab.string = combinedTotal\n                listBlock[index+1].getComponent(\"block\").labelPrefab.string = 0\n\n                arrayBlock[index] = combinedTotal\n                arrayBlock[index+1] = 0\n            }         \n        }\n    },\n    combineRowRight(listBlock, arrayBlock){\n        for(let index = 15; index >= 0; index--){\n            if(arrayBlock[index] === arrayBlock[index+1]){\n                let combinedTotal = arrayBlock[index] + arrayBlock[index + 1]\n                listBlock[index+1].getComponent(\"block\").labelPrefab.string = combinedTotal\n                listBlock[index].getComponent(\"block\").labelPrefab.string = 0\n\n                arrayBlock[index+1] = combinedTotal\n                arrayBlock[index] = 0\n            }         \n        }\n    },\n    combineColumnUp(listBlock, arrayBlock){\n        for(let index = 0; index <= 15; index++){\n            if(arrayBlock[index] === arrayBlock[index+this._width]){\n                let combinedTotal = arrayBlock[index] + arrayBlock[index+this._width]\n                listBlock[index].getComponent(\"block\").labelPrefab.string = combinedTotal\n                listBlock[index+this._width].getComponent(\"block\").labelPrefab.string = 0\n                \n                arrayBlock[index]= combinedTotal\n                arrayBlock[index+this._width]= 0\n            }\n        }\n    },\n\n    combineColumnDown(listBlock, arrayBlock){\n        for(let index = 15; index >= 0; index--){\n            if(arrayBlock[index] == arrayBlock[index+this._width]){\n                let combinedTotal = arrayBlock[index] + arrayBlock[index+this._width]\n                listBlock[index+this._width].getComponent(\"block\").labelPrefab.string = combinedTotal\n                listBlock[index].getComponent(\"block\").labelPrefab.string = 0\n                \n                arrayBlock[index+this._width]= combinedTotal\n                arrayBlock[index]= 0\n            }\n        }\n    },\n\n    moveRightCombined(listBlock, arrayBlock){\n        this.moveRight(listBlock, arrayBlock)\n        this.combineRowRight(listBlock, arrayBlock)\n        this.moveRight(listBlock, arrayBlock)\n        Emitter.instance.emit(emitName.generate)\n\n    },\n    moveLeftCombined(listBlock, arrayBlock){\n        this.moveLeft(listBlock, arrayBlock)\n        this.combineRowLeft(listBlock, arrayBlock)\n        this.moveLeft(listBlock, arrayBlock)\n        Emitter.instance.emit(emitName.generate)\n    },\n    moveUpCombined(listBlock, arrayBlock){\n        this.moveUp(listBlock, arrayBlock)\n        this.combineColumnUp(listBlock, arrayBlock)\n        this.moveUp(listBlock, arrayBlock)\n        Emitter.instance.emit(emitName.generate)\n\n    },\n    moveDownCombined(listBlock, arrayBlock){\n        this.moveDown(listBlock, arrayBlock)\n        this.combineColumnDown(listBlock, arrayBlock)\n        this.moveDown(listBlock, arrayBlock)\n        Emitter.instance.emit(emitName.generate)\n    }\n\n    // update (dt) {},\n});\n/** \n  Bugs:\n   => move down và move right chưa hoàn thiện (check lại điều kiện)\n   => tất cả các cột hết đườngg đi qua tay phải rồi vẫn hiện số\n\n**/"]}